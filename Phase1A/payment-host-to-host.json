{
    "openapi":"3.0.3",
    "info": {
        "title": "",
        "description": "Documentation RESTfull API",
        "termsOfService": "https://github.com/RezzaAnugrah/OpenAPI",
        "version": "1.0.0",
        "license": {
            "name": "APACHE 2.0",
            "url": "https://www.apache.org/licenses/LICENSE-2.0"
        },
        "contact": {
            "name": "Rezza",
            "email": "rezza.anugrahm1@gmail.com",
            "url": "https://github.com/RezzaAnugrah/OpenAPI"
        }
        
    },
    "servers": [
        {
            "description": "Payment host to host",
            "url": "http://{env}.organization.com/api/v1.0",
            "variables": {
                "env":{
                    "default": "sit",
                    "description": "Server Environment",
                    "enum": ["sit","uat","alfa","prod"]
                }
            }
        }
    ],
    
    "paths": {
        "/debit/payment-host-to-host":{
            "post":{
                "security": [{
                    "MySecurity":[]
                }],
                "tags": ["Phase1A"],
                "description": "Payment host to host - B2B2C",
                "summary": "Payment host to host - B2B2C",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/X-TIMESTAMP"
                    },{
                        "$ref": "#/components/parameters/X-PARTNER-ID"
                    },{
                        "$ref": "#/components/parameters/X-SIGNATURE"
                    },{
                        "$ref": "#/components/parameters/X-EXTERNAL-ID"
                    },{
                        "$ref": "#/components/parameters/CHANNEL-ID"
                    },{
                        "$ref": "#/components/parameters/Authorization"
                    }
                ],
                "requestBody":{
                    "required": true,
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "partnerReferenceNo":{
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 64,
                                        "example":"INQURY103104"
                                    },
                                    "bankCardToken":{
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 128,
                                        "example":"UahgvQm7iqAq5VaJCjlkHkRdX4sTa4gFliSZdp3y5XvW"
                                    },
                                    "otp":{
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 8,
                                        "example":""
                                    },
                                    "amount":{
                                        "type": "object",
                                        "properties": {
                                            "value":{
                                                "type": "string",
                                                "minLength": 1,
                                                "maxLength": 18,
                                                "example":"10000.00"
                                            },
                                            "currency":{
                                                "type": "string",
                                                "minLength": 1,
                                                "maxLength": 3,
                                                "example":"IDR"
                                            }
                                        }
                                    },
                                    "additionalInfo":{
                                        "type": "object",
                                        "properties": {
                                            "remark":{
                                                "type": "string",
                                                "minLength": 1,
                                                "maxLength": 255,
                                                "example":"Test Payment"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }, 
                "responses": {
                    "200":{
                        "description": "Success",
                        "content": {
                            "application/json":{
                                "schema":{
                                    "$ref": "#/components/schemas/200-schema"
                                }
                            }
                        }
                    },
                    "404":{
                        "description": "No found",
                        "content": {
                            "applicatoin/json":{
                                "schema":{
                                    "$ref": "#/components/schemas/404-schema"
                                }
                            }
                        }
                    }
                }

            }
        }
    },

    "components": {
        "parameters": {
            "X-TIMESTAMP":{
                "name": "X-TIMESTAMP",
                "in": "header",
                "required": true,
                "description": "Time to request",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 24
                },
                "example":"2025-04-28T16:50:34+0700"
            },
            "X-PARTNER-ID":{
                "name": "X-PARTNER-ID",
                "in": "header",
                "required": true,
                "description": "Partner-ID as client",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 32
                },
                "example":"06f37ffd2fec213ed333a3b3bc216739"
            
            },
            "X-SIGNATURE":{
                "name": "X-SIGNATURE",
                "in": "header",
                "required": true,
                "description": "Signature is original value as sender",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255
                },
                "example":"aG0aynBa+y4UU6jzgrrRfENu6iAxGAC1S44f9jndyT3ggUN6MFBkanLh5DjLQMnPOpqjf3kePzgH7drkdEXhaQ=="
            
            },
            "X-EXTERNAL-ID":{
                "name": "X-EXTERNAL-ID",
                "in": "header",
                "required": true,
                "description": "External-ID is unique id per transaction",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 12
                },
                "example":"uEqL26081423"
            
            },
            "CHANNEL-ID":{
                "name": "CHANNEL-ID",
                "in": "header",
                "required": true,
                "description": "Channel-ID is name of client",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 12
                },
                "example":"DIGITAL"
            
            },
            "Authorization":{
                "name": "Authorization",
                "in": "header",
                "required": true,
                "description": "Authorization is bearer token",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255
                },
                "example":"AAIgZmRlNDM2OWJjOTg3OGZlYTkyMzRiYzEyM2ZmNmJjYWGmomHsnOaJmD5qww7P5bvKrYJWDaSjGVJ6YXuJugEHV"
            },
            "Authorization-Customer":{
                "name": "Authorization-Customer",
                "in": "header",
                "required": true,
                "description": "Authorization-Customer is bearer token",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255
                },
                "example":"AAIgZmRlNDM2OWJjOTg3OGZlYTkyMzRiYzEyM2ZmNmJjYWGmomHsnOaJmD5qww7P5bvKrYJWDaSjGVJ6YXuJugEHV"
            }
        },
        "schemas": {
            "200-schema":{
                "type": "object",
                "properties": {
                    "responseCode":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 7,
                        "example": "2005400"
                    },
                    "responseMessage":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 150,
                        "example":"OTP Sent To Cardholer"
                    },
                    "referenceNo":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64,
                        "example":""
                    },
                    "partnerReferenceNo":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64,
                        "example":"INQURY100901"
                    },
                    "amount":{
                        "type": "object",
                        "properties": {
                           "value":{
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 18,
                                "example":"10000.00"
                            },
                            "currency":{
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 3,
                                "example":"IDR"
                            }
                        }
                    },
                    "additionalInfo":{
                        "type": "object",
                        "properties": {
                           "remark":{
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "example":"Test payment"
                            },
                            "otpRefNo":{
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 12,
                                "example":"9ab0802a66"
                            },
                            "message":{
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 150,
                                "example":"Kami telah mengirimkan OTP melalui nomor ponsel 08176325462. Pastikan koneksi internet anda cukup baik untuk melanjutkan ke tahap berikutnya."
                            }
                        }
                    }

                }
            },
            "404-schema":{
                "type": "object",
                "properties": {
                    "responseCode":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 7,
                        "example": "4045401"
                        },
                    "responseMessage":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 50,
                        "example":"Not found"
                    }
                }
            }
        },
        "securitySchemes": {
             "MySecurity":{
                "type": "apiKey",
                "in": "header",
                "name": "X-PARTNER-ID",
                "description": "APIKey as Partner-id"
            }
        }
    }

}