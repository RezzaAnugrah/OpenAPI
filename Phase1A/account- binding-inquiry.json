{
    "openapi":"3.0.3",
    "info": {
        "title": "",
        "description": "Documentation RESTfull API",
        "termsOfService": "https://github.com/RezzaAnugrah/OpenAPI",
        "version": "1.0.0",
        "license": {
            "name": "APACHE 2.0",
            "url": "https://www.apache.org/licenses/LICENSE-2.0"
        },
        "contact": {
            "name": "Rezza",
            "email": "rezza.anugrahm1@gmail.com",
            "url": "https://github.com/RezzaAnugrah/OpenAPI"
        }
        
    },
    "servers": [
        {
            "description": "Account Binding Inquiry",
            "url": "http://{env}.organization.com/api/v1.0",
            "variables": {
                "env":{
                    "default": "sit",
                    "description": "Server Environment",
                    "enum": ["sit","uat","alfa","prod"]
                }
            }
        }
    ],

    "paths": {
        "/registration-acount-inquiry":{
            "post":{
                "security": [
                    {"MySecurity":[]}
                ],
                "tags": ["Phase1A"],
                "description": "Get account by inquiry",
                "summary": "Get account by inquiry",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/X-TIMESTAMP"
                    },{
                        "$ref": "#/components/parameters/X-PARTNER-ID"
                    },{
                        "$ref": "#/components/parameters/X-SIGNATURE"
                    },{
                        "$ref": "#/components/parameters/X-EXTERNAL-ID"
                    },{
                        "$ref": "#/components/parameters/CHANNEL-ID"
                    },{
                        "$ref": "#/components/parameters/Authorization"
                    }
                ],

                "requestBody":{
                    "required": true,
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "partnerReferenceNo":{
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 12,
                                        "example":"BINDAR231101"
                                    },
                                    "additionalInfo":{
                                        "type": "object",
                                        "properties": {
                                            "accountToken":{
                                                "type": "string",
                                                "minLength": 1,
                                                "maxLength": 256,
                                                "example":"28d03816-84ef-11ed-8fc2-0a17510e0000"
                                            },
                                            "authcode":{
                                                "type": "string",
                                                "minLength": 1,
                                                "maxLength": 256,
                                                "example":"28d03816-84ef-11ed-8fc2-0a17510e0000"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },

                "responses": {
                    "200":{
                        "description": "Success",
                        "content": {
                            "application/json":{
                                "schema":{
                                    "$ref": "#/components/schemas/200-schema"
                                }
                            }
                        }
                    },
                    "400":{
                        "description": "Not found",
                        "content": {
                            "application/json":{
                                "schema":{
                                    "$ref": "#/components/schemas/404-schema"
                                }
                            }
                        }
                    }
                }
            }
        }
    },

    "components": {
        "parameters": {
            "X-TIMESTAMP":{
                "name": "X-TIMESTAMP",
                "in": "header",
                "required": true,
                "description": "Time to request",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 24
                },
                "example":"2025-04-28T16:50:34+0700"
            },
            "X-PARTNER-ID":{
                "name": "X-PARTNER-ID",
                "in": "header",
                "required": true,
                "description": "Partner-ID as client",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 32
                },
                "example":"06f37ffd2fec213ed333a3b3bc216739"
            
            },
            "X-SIGNATURE":{
                "name": "X-SIGNATURE",
                "in": "header",
                "required": true,
                "description": "Signature is original value as sender",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255
                },
                "example":"aG0aynBa+y4UU6jzgrrRfENu6iAxGAC1S44f9jndyT3ggUN6MFBkanLh5DjLQMnPOpqjf3kePzgH7drkdEXhaQ=="
            
            },
            "X-EXTERNAL-ID":{
                "name": "X-EXTERNAL-ID",
                "in": "header",
                "required": true,
                "description": "External-ID is unique id per transaction",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 12
                },
                "example":"uEqL26081423"
            
            },
            "CHANNEL-ID":{
                "name": "CHANNEL-ID",
                "in": "header",
                "required": true,
                "description": "Channel-ID is name of client",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 12
                },
                "example":"DIGITAL"
            
            },
            "Authorization":{
                "name": "Authorization",
                "in": "header",
                "required": true,
                "description": "Authorization is bearer token",
                "schema":{
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255
                },
                "example":"AAIgZmRlNDM2OWJjOTg3OGZlYTkyMzRiYzEyM2ZmNmJjYWGmomHsnOaJmD5qww7P5bvKrYJWDaSjGVJ6YXuJugEHV"
            }
        },
        "schemas": {
            "200-schema":{
                "type": "object",
                "properties": {
                    "responseCode":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 7,
                        "example":"2000800"
                    },
                    "responseMessage":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 6,
                        "example":"Successful"
                    },
                    "partnerReferenceNo":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 12,
                        "example":"BINDAR231101"
                    },"referenceNo":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 12,
                        "example":"28d03816123a"
                    },
                    "accountNo":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 15,
                        "example":"7070808090100"
                    },"accountName":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 100,
                        "example":"Rezza Anugrah Mutiarawan"
                    },
                    "accountTransactionLimit":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 18,
                        "example":"10000000"
                    },"accountCurrency":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 3,
                        "example":"IDR"
                    }
                }
            },

            "404-schema":{
                "type": "object",
                "properties": {
                    "responseCode":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 7,
                        "example": "4040801"
                        },
                    "responseMessage":{
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 50,
                        "example":"Not found"
                    }
                }
            }
        },
        "securitySchemes": {
            "MySecurity":{
                "type": "apiKey",
                "in": "header",
                "name": "X-PARTNER-ID",
                "description": "APIKey as Partner-id"
            }
        }
    }

}